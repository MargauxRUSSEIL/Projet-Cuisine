{% extends 'base.html.twig' %}

{% block title %}User{% endblock %}

{% block body %}
    <h1>Vos informations</h1>

    <p>{% if user.gender != 'Autre' %}{{ user.gender }}{% endif %} {{ user.firstname }} {{ user.lastname }}</p>
    <p>{% if user.gender == 'Madame' %}
        Née
        {% elseif user.gender == 'Monsieur' %}
        Né
        {% else %}
        Né(e)
        {% endif %}
        le {{ user.birthdate ? user.birthdate|date('d F Y') : '' }}</p>

    <table class="table">
        <tbody>
            <tr>
                <th>Username</th>
                <td>{{ user.username }}</td>
            </tr>
            {% if user.roles == 'ADMNIN' %}
            <tr>
                <th>Roles</th>
                <td>{{ user.roles ? user.roles|json_encode : '' }}</td>
            </tr>
            {% endif %}
            <tr>
                <th>Email</th>
                <td>{{ user.email }}</td>
            </tr>
        </tbody>
    </table>

    <h1>Vos recettes</h1>
    <ul>
        {% for createRecettes in user.createRecettes %}
            <li>{{ createRecettes.TitreRecette }} le {{ createRecettes.createdAt ? createRecettes.createdAt|date('d F Y') : '' }}</li>
        {% endfor %}
    </ul>

    <a href="{{ path('index') }}">back to index</a>

    <a href="{{ path('user_edit', {'id': user.id}) }}">edit</a>

    {{ include('user/_delete_form.html.twig') }}
{% endblock %}
